<!DOCTYPE HTML>

<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<title>Pagamento</title>
<meta content="width=device-width,initial-scale=1.0, maximum-scale=1.0" name="viewport"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<script src="js/jquery.js"></script>
<script src="tela/js/js.js"></script>
<script src="tela/js/checkout_pages.js"></script>
<script src="tela/js/flow.js"></script>
<link href="tela/css/css.css" rel="stylesheet"/>
<link href="tela/css/produto.css" rel="stylesheet"/>
<link href="tela/css/theme.css" rel="stylesheet"/>
<link href="tela/css/checkout.css" rel="stylesheet"/>
<link href="assets/logo.png" rel="shortcut icon" sizes="16x16"/>
<style>
/* Footer (igual ao print, full width) */
.site-footer{
  width:100%;
  background:#ffffff;
  color:#666666;
  font-family:proximanovaregular, Arial, sans-serif;
  font-size:12px;
  line-height:1.4;
}
.site-footer__inner{
  width:100%;
  padding:18px 24px;
  box-sizing:border-box;
  text-align:center;
}
.site-footer__links{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:18px;
  margin-bottom:10px;
}
.site-footer__links a{
  color:#666666;
  text-decoration:none;
}
.site-footer__links a:hover{
  text-decoration:underline;
}
.site-footer__copy{
  margin-bottom:6px;
}
.site-footer--fixed{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  z-index:999;
}
body.site-has-fixed-footer{
  padding-bottom:180px; /* evita o rodapé por cima do conteúdo */
}
@media (max-width:480px){
  body.site-has-fixed-footer{ padding-bottom:220px; }
  .site-footer__inner{ padding:16px 14px; }
  .site-footer__links{ gap:12px; }
}
</style>

<style>
/* ===== AJUSTES MINIMOS PEDIDOS ===== */

/* 1️⃣ BOTÃO CONTINUAR — só altura (equilibrado) */
body[data-page="carrinho"] .checkout-btn,
body[data-page="carrinho"] .btn-primary{
  height: 44px !important;
  min-height: 44px !important;
}

/* 2️⃣ PAGINA DADOS — aproximar "Não tem conta" do botão */
.nao-tem-conta,
.signup-link,
.create-account,
.login-footer{
  margin-top: 14px !important;
}

</style>


<style>
/* AJUSTE FINAL – subir NÃO TEM CONTA PC + MOBILE */
body[data-page="dados"] .muted{
    margin-top: 14px !important;
}
</style>


<style>
/* FORCE REAL – colar "" no botão (PC + Mobile) */
.checkout .btn-primary + .muted,
.checkout .btn-primary + div.muted,
body[data-page="dados"] .checkout .btn-primary + .muted {
    margin-top: 14px !important;
}
</style>


<style>
/* FOOTER MOBILE PEQUENO – somente celular */
@media (max-width: 768px){

  footer,
  .footer,
  .site-footer,
  .ml-footer{

    font-size: 11px !important;
    line-height: 1.3 !important;
  }

  footer a,
  .footer a,
  .site-footer a,
  .ml-footer a{
    font-size: 11px !important;
  }

  footer p,
  footer span,
  footer div{
    font-size: 11px !important;
  }

}
</style>

<style>
/* FOOTER MOBILE BOTTOM – mantém rodapé no final da tela quando falta conteúdo */
@media (max-width: 768px){
  body{
    min-height: 100vh !important;
    display: flex !important;
    flex-direction: column !important;
  }
  main.wrap{
    flex: 1 0 auto !important;
  }
  footer.site-footer{
    margin-top: auto !important;
    flex-shrink: 0 !important;
  }
}
</style>
</head>
<body class="site-has-fixed-footer" data-page="pagamento" id="body" style="margin:0;width:100%;-webkit-text-size-adjust:none; ">
<header class="header">
<div class="headerMobile" style="display:flex;align-items:center;">
<img class="logo_da_loja" onclick="window.location.href='index.html'" src="assets/logo.png" style="margin:0 10px;max-width:44px;min-height:32px;cursor:pointer;" />
</div>
</header>
<main class="wrap">
<section class="checkout">
<div class="title">Escolha como pagar</div>
<div class="card stack pay-card">
<div class="pay-section">
<div class="pay-section__title">Recomendados</div>
<div class="pay-option pay-option--active" data-go="nfe.html" id="opt-pix" role="button" tabindex="0" data-pay-label="Pix">
<div class="pay-option__icon pay-option__icon--pix"><img alt="Pix" src="assets/pix.png" style="width:22px;height:22px;"/></div>
<div class="pay-option__text">
<div class="pay-option__name">Pix</div>
<div class="pay-option__desc">Aprovação imediata</div>
</div>
<div class="pay-option__chev">›</div>
</div>
</div>
<div class="pay-section">
<div class="pay-section__title">Outros meios de pagamento</div>
<div class="pay-option" data-go="nfe.html" id="opt-cc" role="button" tabindex="0" data-pay-label="Cartão de crédito">
<div class="pay-option__icon pay-option__icon--cc"><svg aria-hidden="true" height="22" viewbox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
<rect fill="none" height="11" rx="2.2" stroke="#1D6CFF" stroke-width="2" width="16" x="4" y="6.5"></rect>
<line stroke="#1D6CFF" stroke-width="2" x1="4" x2="20" y1="10" y2="10"></line>
<line stroke="#1D6CFF" stroke-linecap="round" stroke-width="2" x1="7" x2="12.5" y1="14.2" y2="14.2"></line>
</svg></div>
<div class="pay-option__text">
<div class="pay-option__name">Adicionar cartão de crédito</div>
</div>
<div class="pay-option__chev">›</div>
</div>
</div>
</div>
</section>
</main>

<div aria-hidden="false" class="pay-bottombar" id="pay-bottombar">
<div class="pay-bottombar__inner">
<div class="pay-bottombar__label">Você pagará</div>
<div class="pay-bottombar__value" id="pay-total">R$ 0,00</div>
</div>
</div><script>
(function(){
  function parseBRL(raw){
    const s = String(raw||'0').trim().replace(/[^0-9.,]/g,'');
    let price = 0;
    if(s.includes(',') && s.includes('.')){
      price = Number(s.replace(/\./g,'').replace(',', '.'));
    }else if(s.includes(',')){
      price = Number(s.replace(',', '.'));
    }else{
      price = Number(s);
    }
    return Number.isNaN(price)?0:price;
  }
  function cart(){
    try{
      const ls = localStorage.getItem('cart');
      if(ls) return JSON.parse(ls) || [];
    }catch(e){}
    return [];
  }
  function cartTotal(){
    let total = 0;
    const c = cart();
    for(const p of c){
      const q = Number(p.quantidade||1);
      const raw = (p.preco_atual ?? p['preço_atual'] ?? p.preco ?? p['preço'] ?? p.valor ?? p.value ?? '0');
      total += parseBRL(raw) * (Number.isNaN(q)?1:q);
    }
    return total;
  }
  function formatBRL(n){
    try{ return (Number(n)||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'}); }
    catch(e){ return 'R$ '+String(n||0); }
  }
  function updateTotal(){
    var el = document.getElementById('pay-total');
    if(el) el.textContent = formatBRL(cartTotal());
  }
  function go(e){
    try{
      var lbl = e.currentTarget.getAttribute('data-pay-label');
      try{ if(lbl){ localStorage.setItem('forma_de_pagamento_escolhida', lbl); } }catch(err){}
      if(typeof STORE!=='undefined' && lbl){ STORE.set('forma_de_pagamento_escolhida', lbl); }
    }catch(err){}
    var href = e.currentTarget.getAttribute('data-go');
    if(href) window.location.href = href;
  }
  function keyGo(e){
    if(e.key==='Enter' || e.key===' '){ e.preventDefault(); go(e); }
  }
  document.addEventListener('DOMContentLoaded', function(){
    updateTotal();
    document.querySelectorAll('[data-go]').forEach(function(o){
      o.addEventListener('click', go);
      o.addEventListener('keydown', keyGo);
    });
  });
  window.addEventListener('storage', updateTotal);
})();
</script>
<!-- FIX: clique na logo leva pro produto (index.html) -->
<script>
(function(){
  function goProduto(){ window.location.href = 'index.html'; }

  function makeClickable(el){
    if(!el) return;
    el.style.cursor = 'pointer';
    el.addEventListener('click', function(e){ e.stopPropagation(); goProduto(); });
  }

  document.addEventListener('DOMContentLoaded', function(){
    // logos em img
    document.querySelectorAll('img[src*="assets/logo"], img[src*="assets/mercadolivre"], img[src*="assets/racing"]').forEach(makeClickable);

    // logos em div com background-image (topo / menu)
    document.querySelectorAll('div[style*="background-image"]').forEach(function(el){
      var s = el.getAttribute('style') || '';
      // pega os casos típicos do template: 56x56 (topo/menu) e o ícone do Bem-vindo
      if (s.includes('width:56') && s.includes('height:56')) makeClickable(el);
      if (s.includes('border-radius:50%')) makeClickable(el);
      if (s.includes('border-radius:8px') && s.toLowerCase().includes('#dedede')) makeClickable(el);
    });

    // fallback: qualquer elemento dentro do #menu que seja o bloco de boas-vindas
    var menu = document.getElementById('menu');
    if(menu){
      var b = menu.querySelector('div[style*="width:56"][style*="height:56"]');
      if(b) makeClickable(b);
    }
  });
})();
</script>

</body>
</html>